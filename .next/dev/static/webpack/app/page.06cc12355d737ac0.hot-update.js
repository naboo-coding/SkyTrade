"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useFractionalize.ts":
/*!***********************************!*\
  !*** ./hooks/useFractionalize.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFractionalize: () => (/* binding */ useFractionalize)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @solana/wallet-adapter-react */ \"(app-pages-browser)/./node_modules/@solana/wallet-adapter-react/lib/esm/useWallet.js\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @coral-xyz/anchor */ \"(app-pages-browser)/./node_modules/@coral-xyz/anchor/dist/browser/index.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/web3.js */ \"(app-pages-browser)/./node_modules/@solana/web3.js/lib/index.browser.esm.js\");\n/* harmony import */ var _metaplex_foundation_umi_bundle_defaults__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @metaplex-foundation/umi-bundle-defaults */ \"(app-pages-browser)/./node_modules/@metaplex-foundation/umi-bundle-defaults/dist/esm/index.mjs\");\n/* harmony import */ var _metaplex_foundation_umi_signer_wallet_adapters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @metaplex-foundation/umi-signer-wallet-adapters */ \"(app-pages-browser)/./node_modules/@metaplex-foundation/umi-signer-wallet-adapters/dist/esm/plugins.mjs\");\n/* harmony import */ var _metaplex_foundation_mpl_bubblegum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @metaplex-foundation/mpl-bubblegum */ \"(app-pages-browser)/./node_modules/@metaplex-foundation/mpl-bubblegum/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_bubblegum__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_bubblegum__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @metaplex-foundation/mpl-token-metadata */ \"(app-pages-browser)/./node_modules/@metaplex-foundation/mpl-token-metadata/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _metaplex_foundation_digital_asset_standard_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metaplex-foundation/digital-asset-standard-api */ \"(app-pages-browser)/./node_modules/@metaplex-foundation/digital-asset-standard-api/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_digital_asset_standard_api__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_digital_asset_standard_api__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/constants */ \"(app-pages-browser)/./constants/index.ts\");\n/* harmony import */ var _contexts_NetworkContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/contexts/NetworkContext */ \"(app-pages-browser)/./contexts/NetworkContext.tsx\");\n/* harmony import */ var _fractionalization_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../fractionalization.json */ \"(app-pages-browser)/./fractionalization.json\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\n/* __next_internal_client_entry_do_not_use__ useFractionalize auto */ \n\n\n\n\n\n\n\n\n\n\n\n\nfunction useFractionalize() {\n    const { publicKey, wallet, signTransaction } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_9__.useWallet)();\n    const { endpoint, network } = (0,_contexts_NetworkContext__WEBPACK_IMPORTED_MODULE_7__.useNetwork)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [signature, setSignature] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Create a Connection explicitly with the correct endpoint\n    const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.Connection(endpoint, \"confirmed\");\n    const fractionalize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useFractionalize.useCallback[fractionalize]\": async (params)=>{\n            if (!publicKey || !wallet?.adapter) {\n                throw new Error(\"Wallet not connected\");\n            }\n            setLoading(true);\n            setError(null);\n            setSignature(null);\n            try {\n                // Initialize UMI for fetching asset and proof\n                const umi = (0,_metaplex_foundation_umi_bundle_defaults__WEBPACK_IMPORTED_MODULE_10__.createUmi)(endpoint).use((0,_metaplex_foundation_umi_signer_wallet_adapters__WEBPACK_IMPORTED_MODULE_11__.walletAdapterIdentity)(wallet.adapter)).use((0,_metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_4__.mplTokenMetadata)()).use((0,_metaplex_foundation_mpl_bubblegum__WEBPACK_IMPORTED_MODULE_3__.mplBubblegum)()).use((0,_metaplex_foundation_digital_asset_standard_api__WEBPACK_IMPORTED_MODULE_5__.dasApi)());\n                // 1. Fetch asset and proof\n                const nftAssetId = params.assetId;\n                const assetWithProof = await (0,_metaplex_foundation_mpl_bubblegum__WEBPACK_IMPORTED_MODULE_3__.getAssetWithProof)(umi, publicKey(nftAssetId), {\n                    truncateCanopy: true\n                });\n                if (!assetWithProof.proof || assetWithProof.proof.length === 0) {\n                    throw new Error(\"No merkle proof available\");\n                }\n                // 2. Extract metadata\n                const cNftName = assetWithProof.metadata.name;\n                const cNftSymbol = assetWithProof.metadata.symbol || \"\";\n                const cNftUri = assetWithProof.metadata.uri || \"\";\n                // 3. Convert to web3.js PublicKeys\n                const merkleTreeIdWeb3 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey(assetWithProof.merkleTree);\n                const nftAssetIdWeb3 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey(assetWithProof.rpcAsset.id);\n                // 4. Derive tree authority PDA\n                const [treeAuthority] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey.findProgramAddressSync([\n                    merkleTreeIdWeb3.toBuffer()\n                ], _constants__WEBPACK_IMPORTED_MODULE_6__.MPL_BUBBLEGUM_ID);\n                // 5. Leaf delegate (if exists)\n                const leafDelegateWeb3 = assetWithProof.leafDelegate ? new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey(assetWithProof.leafDelegate) : null;\n                // 6. Prepare proof accounts\n                const proofAccounts = assetWithProof.proof.map({\n                    \"useFractionalize.useCallback[fractionalize].proofAccounts\": (node)=>({\n                            pubkey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey(node),\n                            isWritable: false,\n                            isSigner: false\n                        })\n                }[\"useFractionalize.useCallback[fractionalize].proofAccounts\"]);\n                // 7. Initialize Anchor program with correct network connection\n                const connectionForProvider = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.Connection(endpoint, \"confirmed\");\n                const provider = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.AnchorProvider(connectionForProvider, wallet.adapter, {\n                    commitment: \"confirmed\"\n                });\n                const program = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.Program(_fractionalization_json__WEBPACK_IMPORTED_MODULE_8__, _constants__WEBPACK_IMPORTED_MODULE_6__.PROGRAM_ID, provider);\n                // 8. Derive PDAs\n                const [vaultPda] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey.findProgramAddressSync([\n                    Buffer.from(\"vault\"),\n                    nftAssetIdWeb3.toBuffer()\n                ], _constants__WEBPACK_IMPORTED_MODULE_6__.PROGRAM_ID);\n                const [mintAuthorityPda] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey.findProgramAddressSync([\n                    Buffer.from(\"mint_authority\"),\n                    vaultPda.toBuffer()\n                ], _constants__WEBPACK_IMPORTED_MODULE_6__.PROGRAM_ID);\n                const [fractionMintPda] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey.findProgramAddressSync([\n                    Buffer.from(\"fraction_mint\"),\n                    vaultPda.toBuffer()\n                ], _constants__WEBPACK_IMPORTED_MODULE_6__.PROGRAM_ID);\n                const [metadataPda] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey.findProgramAddressSync([\n                    Buffer.from(\"metadata\"),\n                    _constants__WEBPACK_IMPORTED_MODULE_6__.METAPLEX_PROGRAM_ID.toBuffer(),\n                    fractionMintPda.toBuffer()\n                ], _constants__WEBPACK_IMPORTED_MODULE_6__.METAPLEX_PROGRAM_ID);\n                // 9. Treasury (use provided or generate a dummy one for testing)\n                const treasury = params.treasury || _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.Keypair.generate().publicKey;\n                // 10. Convert total supply to BN (with 9 decimals)\n                const totalSupply = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.BN(params.totalSupply).mul(new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.BN(10).pow(new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.BN(9)));\n                // 11. Build fractionalization instruction\n                const fractionalizeIx = await program.methods.fractionalizeV1(totalSupply, params.minLpAgeSeconds !== null && params.minLpAgeSeconds !== undefined ? new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.BN(params.minLpAgeSeconds) : null, params.minReclaimPercent !== null && params.minReclaimPercent !== undefined ? params.minReclaimPercent : null, params.minLiquidityPercent !== null && params.minLiquidityPercent !== undefined ? params.minLiquidityPercent : null, params.minVolumePercent30d !== null && params.minVolumePercent30d !== undefined ? params.minVolumePercent30d : null, _constants__WEBPACK_IMPORTED_MODULE_6__.PROTOCOL_PERCENT_FEE, Array.from(assetWithProof.root), Array.from(assetWithProof.dataHash), Array.from(assetWithProof.creatorHash), new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_1__.BN(assetWithProof.nonce), assetWithProof.index, cNftName, cNftSymbol, cNftUri).accounts({\n                    fractionalizer: publicKey,\n                    treasury: treasury,\n                    nftAsset: nftAssetIdWeb3,\n                    merkleTree: merkleTreeIdWeb3,\n                    treeAuthority: treeAuthority,\n                    leafDelegate: leafDelegateWeb3,\n                    compressionProgram: _constants__WEBPACK_IMPORTED_MODULE_6__.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID_V1,\n                    logWrapper: _constants__WEBPACK_IMPORTED_MODULE_6__.SPL_NOOP_PROGRAM_ID_V1,\n                    metadataAccount: metadataPda\n                }).remainingAccounts(proofAccounts).instruction();\n                // 12. Build and send transaction\n                const { blockhash, lastValidBlockHeight } = await connectionForProvider.getLatestBlockhash();\n                const computeBudgetIx = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.ComputeBudgetProgram.setComputeUnitLimit({\n                    units: 300000\n                });\n                const computePriceIx = _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.ComputeBudgetProgram.setComputeUnitPrice({\n                    microLamports: 1\n                });\n                const messageV0 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.TransactionMessage({\n                    payerKey: publicKey,\n                    recentBlockhash: blockhash,\n                    instructions: [\n                        computeBudgetIx,\n                        computePriceIx,\n                        fractionalizeIx\n                    ]\n                }).compileToV0Message();\n                const versionedTx = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.VersionedTransaction(messageV0);\n                // Sign transaction\n                const signedTx = await wallet.adapter.signTransaction(versionedTx);\n                const txSignature = await connection.sendRawTransaction(signedTx.serialize());\n                await connection.confirmTransaction({\n                    signature: txSignature,\n                    blockhash,\n                    lastValidBlockHeight\n                });\n                setSignature(txSignature);\n                return txSignature;\n            } catch (err) {\n                console.error(\"Error fractionalizing cNFT:\", err);\n                const errorMessage = err instanceof Error ? err.message : \"Failed to fractionalize cNFT\";\n                setError(errorMessage);\n                throw err;\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useFractionalize.useCallback[fractionalize]\"], [\n        publicKey,\n        wallet,\n        connection,\n        endpoint\n    ]);\n    return {\n        fractionalize,\n        loading,\n        error,\n        signature\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUZyYWN0aW9uYWxpemUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NFQUU4QztBQUNXO0FBQ0c7QUFTbkM7QUFJNEM7QUFDbUI7QUFDSDtBQUNWO0FBQ0Y7QUFDNEY7QUFDOUc7QUFDTTtBQUNqQjtBQVlyQyxTQUFTMEI7SUFDZCxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxlQUFlLEVBQUUsR0FBRzNCLHVFQUFTQTtJQUN4RCxNQUFNLEVBQUU0QixRQUFRLEVBQUVDLE9BQU8sRUFBRSxHQUFHUixvRUFBVUE7SUFDeEMsTUFBTSxDQUFDUyxTQUFTQyxXQUFXLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNrQyxPQUFPQyxTQUFTLEdBQUduQywrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDb0MsV0FBV0MsYUFBYSxHQUFHckMsK0NBQVFBLENBQWdCO0lBRTFELDJEQUEyRDtJQUMzRCxNQUFNc0MsYUFBYSxJQUFJNUIsdURBQVVBLENBQUNvQixVQUFVO0lBRTVDLE1BQU1TLGdCQUFnQnRDLGtEQUFXQTt1REFBQyxPQUFPdUM7WUFDdkMsSUFBSSxDQUFDYixhQUFhLENBQUNDLFFBQVFhLFNBQVM7Z0JBQ2xDLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBVCxXQUFXO1lBQ1hFLFNBQVM7WUFDVEUsYUFBYTtZQUViLElBQUk7Z0JBQ0YsOENBQThDO2dCQUM5QyxNQUFNTSxNQUFNaEMsb0ZBQVNBLENBQUNtQixVQUNuQmMsR0FBRyxDQUFDaEMsdUdBQXFCQSxDQUFDZ0IsT0FBT2EsT0FBTyxHQUN4Q0csR0FBRyxDQUFDN0IseUZBQWdCQSxJQUNwQjZCLEdBQUcsQ0FBQy9CLGdGQUFZQSxJQUNoQitCLEdBQUcsQ0FBQzVCLHVGQUFNQTtnQkFFYiwyQkFBMkI7Z0JBQzNCLE1BQU02QixhQUFhTCxPQUFPTSxPQUFPO2dCQUNqQyxNQUFNQyxpQkFBaUIsTUFBTWpD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NEcsbUJBQW1CLENBQUM7b0JBQy9EQyxPQUFPO2dCQUNUO2dCQUVBLE1BQU1DLGlCQUFpQjlHLGlFQUFvQkEsQ0FBQytHLG1CQUFtQixDQUFDO29CQUM5REMsZUFBZTtnQkFDakI7Z0JBRUEsTUFBTUMsWUFBWSxJQUFJbkgsK0RBQWtCQSxDQUFDO29CQUN2Q29ILFVBQVUvRjtvQkFDVmdHLGlCQUFpQlg7b0JBQ2pCWSxjQUFjO3dCQUFDVDt3QkFBaUJHO3dCQUFnQjVCO3FCQUFnQjtnQkFDbEUsR0FBR21DLGtCQUFrQjtnQkFFckIsTUFBTUMsY0FBYyxJQUFJdkgsaUVBQW9CQSxDQUFDa0g7Z0JBRTdDLG1CQUFtQjtnQkFDbkIsTUFBTU0sV0FBVyxNQUFNbkcsT0FBT2EsT0FBTyxDQUFDWixlQUFlLENBQUVpRztnQkFDdkQsTUFBTUUsY0FBYyxNQUFNMUYsV0FBVzJGLGtCQUFrQixDQUFDRixTQUFTRyxTQUFTO2dCQUMxRSxNQUFNNUYsV0FBVzZGLGtCQUFrQixDQUFDO29CQUNsQy9GLFdBQVc0RjtvQkFDWGhCO29CQUNBQztnQkFDRjtnQkFFQTVFLGFBQWEyRjtnQkFDYixPQUFPQTtZQUNULEVBQUUsT0FBT0ksS0FBSztnQkFDWkMsUUFBUW5HLEtBQUssQ0FBQywrQkFBK0JrRztnQkFDN0MsTUFBTUUsZUFBZUYsZUFBZTFGLFFBQVEwRixJQUFJRyxPQUFPLEdBQUc7Z0JBQzFEcEcsU0FBU21HO2dCQUNULE1BQU1GO1lBQ1IsU0FBVTtnQkFDUm5HLFdBQVc7WUFDYjtRQUNGO3NEQUFHO1FBQUNOO1FBQVdDO1FBQVFVO1FBQVlSO0tBQVM7SUFFNUMsT0FBTztRQUFFUztRQUFlUDtRQUFTRTtRQUFPRTtJQUFVO0FBQ3BEIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGFubmFiXFxEb3dubG9hZHNcXFNreVRyYWRlXFxob29rc1xcdXNlRnJhY3Rpb25hbGl6ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VXYWxsZXQgfSBmcm9tIFwiQHNvbGFuYS93YWxsZXQtYWRhcHRlci1yZWFjdFwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtLCBBbmNob3JQcm92aWRlciB9IGZyb20gXCJAY29yYWwteHl6L2FuY2hvclwiO1xyXG5pbXBvcnQge1xyXG4gIFB1YmxpY0tleSxcclxuICBBY2NvdW50TWV0YSxcclxuICBUcmFuc2FjdGlvbk1lc3NhZ2UsXHJcbiAgVmVyc2lvbmVkVHJhbnNhY3Rpb24sXHJcbiAgQ29tcHV0ZUJ1ZGdldFByb2dyYW0sXHJcbiAgS2V5cGFpcixcclxuICBDb25uZWN0aW9uLFxyXG59IGZyb20gXCJAc29sYW5hL3dlYjMuanNcIjtcclxuaW1wb3J0IHtcclxuICBnZXRBc3NvY2lhdGVkVG9rZW5BZGRyZXNzU3luYyxcclxufSBmcm9tIFwiQHNvbGFuYS9zcGwtdG9rZW5cIjtcclxuaW1wb3J0IHsgY3JlYXRlVW1pIH0gZnJvbSBcIkBtZXRhcGxleC1mb3VuZGF0aW9uL3VtaS1idW5kbGUtZGVmYXVsdHNcIjtcclxuaW1wb3J0IHsgd2FsbGV0QWRhcHRlcklkZW50aXR5IH0gZnJvbSBcIkBtZXRhcGxleC1mb3VuZGF0aW9uL3VtaS1zaWduZXItd2FsbGV0LWFkYXB0ZXJzXCI7XHJcbmltcG9ydCB7IG1wbEJ1YmJsZWd1bSwgZ2V0QXNzZXRXaXRoUHJvb2YgfSBmcm9tIFwiQG1ldGFwbGV4LWZvdW5kYXRpb24vbXBsLWJ1YmJsZWd1bVwiO1xyXG5pbXBvcnQgeyBtcGxUb2tlbk1ldGFkYXRhIH0gZnJvbSBcIkBtZXRhcGxleC1mb3VuZGF0aW9uL21wbC10b2tlbi1tZXRhZGF0YVwiO1xyXG5pbXBvcnQgeyBkYXNBcGkgfSBmcm9tIFwiQG1ldGFwbGV4LWZvdW5kYXRpb24vZGlnaXRhbC1hc3NldC1zdGFuZGFyZC1hcGlcIjtcclxuaW1wb3J0IHsgUFJPR1JBTV9JRCwgTVBMX0JVQkJMRUdVTV9JRCwgU1BMX0FDQ09VTlRfQ09NUFJFU1NJT05fUFJPR1JBTV9JRF9WMSwgU1BMX05PT1BfUFJPR1JBTV9JRF9WMSwgTUVUQVBMRVhfUFJPR1JBTV9JRCwgUFJPVE9DT0xfUEVSQ0VOVF9GRUUgfSBmcm9tIFwiQC9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgdXNlTmV0d29yayB9IGZyb20gXCJAL2NvbnRleHRzL05ldHdvcmtDb250ZXh0XCI7XHJcbmltcG9ydCBGcmFjdGlvbmFsaXphdGlvbklkbCBmcm9tIFwiLi4vZnJhY3Rpb25hbGl6YXRpb24uanNvblwiO1xyXG5pbXBvcnQgKiBhcyBhbmNob3IgZnJvbSBcIkBjb3JhbC14eXovYW5jaG9yXCI7XHJcblxyXG5pbnRlcmZhY2UgRnJhY3Rpb25hbGl6ZVBhcmFtcyB7XHJcbiAgYXNzZXRJZDogc3RyaW5nOyAvLyBjTkZUIEFzc2V0IElEXHJcbiAgdG90YWxTdXBwbHk6IHN0cmluZzsgLy8gVG90YWwgc3VwcGx5IGFzIHN0cmluZyAod2lsbCBiZSBjb252ZXJ0ZWQgdG8gQk4gd2l0aCA5IGRlY2ltYWxzKVxyXG4gIG1pbkxwQWdlU2Vjb25kcz86IG51bWJlciB8IG51bGw7XHJcbiAgbWluUmVjbGFpbVBlcmNlbnQ/OiBudW1iZXIgfCBudWxsO1xyXG4gIG1pbkxpcXVpZGl0eVBlcmNlbnQ/OiBudW1iZXIgfCBudWxsO1xyXG4gIG1pblZvbHVtZVBlcmNlbnQzMGQ/OiBudW1iZXIgfCBudWxsO1xyXG4gIHRyZWFzdXJ5PzogUHVibGljS2V5OyAvLyBPcHRpb25hbCB0cmVhc3VyeSBhZGRyZXNzXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VGcmFjdGlvbmFsaXplKCkge1xyXG4gIGNvbnN0IHsgcHVibGljS2V5LCB3YWxsZXQsIHNpZ25UcmFuc2FjdGlvbiB9ID0gdXNlV2FsbGV0KCk7XHJcbiAgY29uc3QgeyBlbmRwb2ludCwgbmV0d29yayB9ID0gdXNlTmV0d29yaygpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtzaWduYXR1cmUsIHNldFNpZ25hdHVyZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gQ3JlYXRlIGEgQ29ubmVjdGlvbiBleHBsaWNpdGx5IHdpdGggdGhlIGNvcnJlY3QgZW5kcG9pbnRcclxuICBjb25zdCBjb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24oZW5kcG9pbnQsIFwiY29uZmlybWVkXCIpO1xyXG5cclxuICBjb25zdCBmcmFjdGlvbmFsaXplID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBhcmFtczogRnJhY3Rpb25hbGl6ZVBhcmFtcykgPT4ge1xyXG4gICAgaWYgKCFwdWJsaWNLZXkgfHwgIXdhbGxldD8uYWRhcHRlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXYWxsZXQgbm90IGNvbm5lY3RlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBzZXRTaWduYXR1cmUobnVsbCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSW5pdGlhbGl6ZSBVTUkgZm9yIGZldGNoaW5nIGFzc2V0IGFuZCBwcm9vZlxyXG4gICAgICBjb25zdCB1bWkgPSBjcmVhdGVVbWkoZW5kcG9pbnQpXHJcbiAgICAgICAgLnVzZSh3YWxsZXRBZGFwdGVySWRlbnRpdHkod2FsbGV0LmFkYXB0ZXIpKVxyXG4gICAgICAgIC51c2UobXBsVG9rZW5NZXRhZGF0YSgpKVxyXG4gICAgICAgIC51c2UobXBsQnViYmxlZ3VtKCkpXHJcbiAgICAgICAgLnVzZShkYXNBcGkoKSk7XHJcblxyXG4gICAgICAvLyAxLiBGZXRjaCBhc3NldCBhbmQgcHJvb2ZcclxuICAgICAgY29uc3QgbmZ0QXNzZXRJZCA9IHBhcmFtcy5hc3NldElkO1xyXG4gICAgICBjb25zdCBhc3NldFdpdGhQcm9vZiA9IGF3YWl0IGdldEFzc2V0V2l0aFByb29mKHVtaSwgcHVibGljS2V5KG5mdEFzc2V0SWQpLCB7XHJcbiAgICAgICAgdHJ1bmNhdGVDYW5vcHk6IHRydWUsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFhc3NldFdpdGhQcm9vZi5wcm9vZiB8fCBhc3NldFdpdGhQcm9vZi5wcm9vZi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBtZXJrbGUgcHJvb2YgYXZhaWxhYmxlXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAyLiBFeHRyYWN0IG1ldGFkYXRhXHJcbiAgICAgIGNvbnN0IGNOZnROYW1lID0gYXNzZXRXaXRoUHJvb2YubWV0YWRhdGEubmFtZTtcclxuICAgICAgY29uc3QgY05mdFN5bWJvbCA9IGFzc2V0V2l0aFByb29mLm1ldGFkYXRhLnN5bWJvbCB8fCBcIlwiO1xyXG4gICAgICBjb25zdCBjTmZ0VXJpID0gYXNzZXRXaXRoUHJvb2YubWV0YWRhdGEudXJpIHx8IFwiXCI7XHJcblxyXG4gICAgICAvLyAzLiBDb252ZXJ0IHRvIHdlYjMuanMgUHVibGljS2V5c1xyXG4gICAgICBjb25zdCBtZXJrbGVUcmVlSWRXZWIzID0gbmV3IFB1YmxpY0tleShhc3NldFdpdGhQcm9vZi5tZXJrbGVUcmVlKTtcclxuICAgICAgY29uc3QgbmZ0QXNzZXRJZFdlYjMgPSBuZXcgUHVibGljS2V5KGFzc2V0V2l0aFByb29mLnJwY0Fzc2V0LmlkKTtcclxuXHJcbiAgICAgIC8vIDQuIERlcml2ZSB0cmVlIGF1dGhvcml0eSBQREFcclxuICAgICAgY29uc3QgW3RyZWVBdXRob3JpdHldID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXHJcbiAgICAgICAgW21lcmtsZVRyZWVJZFdlYjMudG9CdWZmZXIoKV0sXHJcbiAgICAgICAgTVBMX0JVQkJMRUdVTV9JRFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gNS4gTGVhZiBkZWxlZ2F0ZSAoaWYgZXhpc3RzKVxyXG4gICAgICBjb25zdCBsZWFmRGVsZWdhdGVXZWIzID0gYXNzZXRXaXRoUHJvb2YubGVhZkRlbGVnYXRlXHJcbiAgICAgICAgPyBuZXcgUHVibGljS2V5KGFzc2V0V2l0aFByb29mLmxlYWZEZWxlZ2F0ZSlcclxuICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAvLyA2LiBQcmVwYXJlIHByb29mIGFjY291bnRzXHJcbiAgICAgIGNvbnN0IHByb29mQWNjb3VudHM6IEFjY291bnRNZXRhW10gPSBhc3NldFdpdGhQcm9vZi5wcm9vZi5tYXAoKG5vZGUpID0+ICh7XHJcbiAgICAgICAgcHVia2V5OiBuZXcgUHVibGljS2V5KG5vZGUpLFxyXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgIGlzU2lnbmVyOiBmYWxzZSxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgLy8gNy4gSW5pdGlhbGl6ZSBBbmNob3IgcHJvZ3JhbSB3aXRoIGNvcnJlY3QgbmV0d29yayBjb25uZWN0aW9uXHJcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25Gb3JQcm92aWRlciA9IG5ldyBDb25uZWN0aW9uKGVuZHBvaW50LCBcImNvbmZpcm1lZFwiKTtcclxuICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgQW5jaG9yUHJvdmlkZXIoXHJcbiAgICAgICAgY29ubmVjdGlvbkZvclByb3ZpZGVyLFxyXG4gICAgICAgIHdhbGxldC5hZGFwdGVyIGFzIGFueSxcclxuICAgICAgICB7IGNvbW1pdG1lbnQ6IFwiY29uZmlybWVkXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBwcm9ncmFtID0gbmV3IFByb2dyYW0oXHJcbiAgICAgICAgRnJhY3Rpb25hbGl6YXRpb25JZGwgYXMgYW55LFxyXG4gICAgICAgIFBST0dSQU1fSUQsXHJcbiAgICAgICAgcHJvdmlkZXJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIDguIERlcml2ZSBQREFzXHJcbiAgICAgIGNvbnN0IFt2YXVsdFBkYV0gPSBQdWJsaWNLZXkuZmluZFByb2dyYW1BZGRyZXNzU3luYyhcclxuICAgICAgICBbQnVmZmVyLmZyb20oXCJ2YXVsdFwiKSwgbmZ0QXNzZXRJZFdlYjMudG9CdWZmZXIoKV0sXHJcbiAgICAgICAgUFJPR1JBTV9JRFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgW21pbnRBdXRob3JpdHlQZGFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXHJcbiAgICAgICAgW0J1ZmZlci5mcm9tKFwibWludF9hdXRob3JpdHlcIiksIHZhdWx0UGRhLnRvQnVmZmVyKCldLFxyXG4gICAgICAgIFBST0dSQU1fSURcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IFtmcmFjdGlvbk1pbnRQZGFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXHJcbiAgICAgICAgW0J1ZmZlci5mcm9tKFwiZnJhY3Rpb25fbWludFwiKSwgdmF1bHRQZGEudG9CdWZmZXIoKV0sXHJcbiAgICAgICAgUFJPR1JBTV9JRFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgW21ldGFkYXRhUGRhXSA9IFB1YmxpY0tleS5maW5kUHJvZ3JhbUFkZHJlc3NTeW5jKFxyXG4gICAgICAgIFtcclxuICAgICAgICAgIEJ1ZmZlci5mcm9tKFwibWV0YWRhdGFcIiksXHJcbiAgICAgICAgICBNRVRBUExFWF9QUk9HUkFNX0lELnRvQnVmZmVyKCksXHJcbiAgICAgICAgICBmcmFjdGlvbk1pbnRQZGEudG9CdWZmZXIoKSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIE1FVEFQTEVYX1BST0dSQU1fSURcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIDkuIFRyZWFzdXJ5ICh1c2UgcHJvdmlkZWQgb3IgZ2VuZXJhdGUgYSBkdW1teSBvbmUgZm9yIHRlc3RpbmcpXHJcbiAgICAgIGNvbnN0IHRyZWFzdXJ5ID0gcGFyYW1zLnRyZWFzdXJ5IHx8IEtleXBhaXIuZ2VuZXJhdGUoKS5wdWJsaWNLZXk7XHJcblxyXG4gICAgICAvLyAxMC4gQ29udmVydCB0b3RhbCBzdXBwbHkgdG8gQk4gKHdpdGggOSBkZWNpbWFscylcclxuICAgICAgY29uc3QgdG90YWxTdXBwbHkgPSBuZXcgYW5jaG9yLkJOKHBhcmFtcy50b3RhbFN1cHBseSlcclxuICAgICAgICAubXVsKG5ldyBhbmNob3IuQk4oMTApLnBvdyhuZXcgYW5jaG9yLkJOKDkpKSk7XHJcblxyXG4gICAgICAvLyAxMS4gQnVpbGQgZnJhY3Rpb25hbGl6YXRpb24gaW5zdHJ1Y3Rpb25cclxuICAgICAgY29uc3QgZnJhY3Rpb25hbGl6ZUl4ID0gYXdhaXQgcHJvZ3JhbS5tZXRob2RzXHJcbiAgICAgICAgLmZyYWN0aW9uYWxpemVWMShcclxuICAgICAgICAgIHRvdGFsU3VwcGx5LFxyXG4gICAgICAgICAgcGFyYW1zLm1pbkxwQWdlU2Vjb25kcyAhPT0gbnVsbCAmJiBwYXJhbXMubWluTHBBZ2VTZWNvbmRzICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyBuZXcgYW5jaG9yLkJOKHBhcmFtcy5taW5McEFnZVNlY29uZHMpXHJcbiAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgIHBhcmFtcy5taW5SZWNsYWltUGVyY2VudCAhPT0gbnVsbCAmJiBwYXJhbXMubWluUmVjbGFpbVBlcmNlbnQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IHBhcmFtcy5taW5SZWNsYWltUGVyY2VudFxyXG4gICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICBwYXJhbXMubWluTGlxdWlkaXR5UGVyY2VudCAhPT0gbnVsbCAmJiBwYXJhbXMubWluTGlxdWlkaXR5UGVyY2VudCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gcGFyYW1zLm1pbkxpcXVpZGl0eVBlcmNlbnRcclxuICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgcGFyYW1zLm1pblZvbHVtZVBlcmNlbnQzMGQgIT09IG51bGwgJiYgcGFyYW1zLm1pblZvbHVtZVBlcmNlbnQzMGQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IHBhcmFtcy5taW5Wb2x1bWVQZXJjZW50MzBkXHJcbiAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgIFBST1RPQ09MX1BFUkNFTlRfRkVFLFxyXG4gICAgICAgICAgQXJyYXkuZnJvbShhc3NldFdpdGhQcm9vZi5yb290KSxcclxuICAgICAgICAgIEFycmF5LmZyb20oYXNzZXRXaXRoUHJvb2YuZGF0YUhhc2gpLFxyXG4gICAgICAgICAgQXJyYXkuZnJvbShhc3NldFdpdGhQcm9vZi5jcmVhdG9ySGFzaCksXHJcbiAgICAgICAgICBuZXcgYW5jaG9yLkJOKGFzc2V0V2l0aFByb29mLm5vbmNlKSxcclxuICAgICAgICAgIGFzc2V0V2l0aFByb29mLmluZGV4LFxyXG4gICAgICAgICAgY05mdE5hbWUsXHJcbiAgICAgICAgICBjTmZ0U3ltYm9sLFxyXG4gICAgICAgICAgY05mdFVyaVxyXG4gICAgICAgIClcclxuICAgICAgICAuYWNjb3VudHMoe1xyXG4gICAgICAgICAgZnJhY3Rpb25hbGl6ZXI6IHB1YmxpY0tleSxcclxuICAgICAgICAgIHRyZWFzdXJ5OiB0cmVhc3VyeSxcclxuICAgICAgICAgIG5mdEFzc2V0OiBuZnRBc3NldElkV2ViMyxcclxuICAgICAgICAgIG1lcmtsZVRyZWU6IG1lcmtsZVRyZWVJZFdlYjMsXHJcbiAgICAgICAgICB0cmVlQXV0aG9yaXR5OiB0cmVlQXV0aG9yaXR5LFxyXG4gICAgICAgICAgbGVhZkRlbGVnYXRlOiBsZWFmRGVsZWdhdGVXZWIzLFxyXG4gICAgICAgICAgY29tcHJlc3Npb25Qcm9ncmFtOiBTUExfQUNDT1VOVF9DT01QUkVTU0lPTl9QUk9HUkFNX0lEX1YxLFxyXG4gICAgICAgICAgbG9nV3JhcHBlcjogU1BMX05PT1BfUFJPR1JBTV9JRF9WMSxcclxuICAgICAgICAgIG1ldGFkYXRhQWNjb3VudDogbWV0YWRhdGFQZGEsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAucmVtYWluaW5nQWNjb3VudHMocHJvb2ZBY2NvdW50cylcclxuICAgICAgICAuaW5zdHJ1Y3Rpb24oKTtcclxuXHJcbiAgICAgIC8vIDEyLiBCdWlsZCBhbmQgc2VuZCB0cmFuc2FjdGlvblxyXG4gICAgICBjb25zdCB7IGJsb2NraGFzaCwgbGFzdFZhbGlkQmxvY2tIZWlnaHQgfSA9IGF3YWl0IGNvbm5lY3Rpb25Gb3JQcm92aWRlci5nZXRMYXRlc3RCbG9ja2hhc2goKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbXB1dGVCdWRnZXRJeCA9IENvbXB1dGVCdWRnZXRQcm9ncmFtLnNldENvbXB1dGVVbml0TGltaXQoe1xyXG4gICAgICAgIHVuaXRzOiAzMDBfMDAwLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbXB1dGVQcmljZUl4ID0gQ29tcHV0ZUJ1ZGdldFByb2dyYW0uc2V0Q29tcHV0ZVVuaXRQcmljZSh7XHJcbiAgICAgICAgbWljcm9MYW1wb3J0czogMSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBtZXNzYWdlVjAgPSBuZXcgVHJhbnNhY3Rpb25NZXNzYWdlKHtcclxuICAgICAgICBwYXllcktleTogcHVibGljS2V5LFxyXG4gICAgICAgIHJlY2VudEJsb2NraGFzaDogYmxvY2toYXNoLFxyXG4gICAgICAgIGluc3RydWN0aW9uczogW2NvbXB1dGVCdWRnZXRJeCwgY29tcHV0ZVByaWNlSXgsIGZyYWN0aW9uYWxpemVJeF0sXHJcbiAgICAgIH0pLmNvbXBpbGVUb1YwTWVzc2FnZSgpO1xyXG5cclxuICAgICAgY29uc3QgdmVyc2lvbmVkVHggPSBuZXcgVmVyc2lvbmVkVHJhbnNhY3Rpb24obWVzc2FnZVYwKTtcclxuXHJcbiAgICAgIC8vIFNpZ24gdHJhbnNhY3Rpb25cclxuICAgICAgY29uc3Qgc2lnbmVkVHggPSBhd2FpdCB3YWxsZXQuYWRhcHRlci5zaWduVHJhbnNhY3Rpb24hKHZlcnNpb25lZFR4KTtcclxuICAgICAgY29uc3QgdHhTaWduYXR1cmUgPSBhd2FpdCBjb25uZWN0aW9uLnNlbmRSYXdUcmFuc2FjdGlvbihzaWduZWRUeC5zZXJpYWxpemUoKSk7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uY29uZmlybVRyYW5zYWN0aW9uKHtcclxuICAgICAgICBzaWduYXR1cmU6IHR4U2lnbmF0dXJlLFxyXG4gICAgICAgIGJsb2NraGFzaCxcclxuICAgICAgICBsYXN0VmFsaWRCbG9ja0hlaWdodCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzZXRTaWduYXR1cmUodHhTaWduYXR1cmUpO1xyXG4gICAgICByZXR1cm4gdHhTaWduYXR1cmU7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZyYWN0aW9uYWxpemluZyBjTkZUOlwiLCBlcnIpO1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZnJhY3Rpb25hbGl6ZSBjTkZUXCI7XHJcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtwdWJsaWNLZXksIHdhbGxldCwgY29ubmVjdGlvbiwgZW5kcG9pbnRdKTtcclxuXHJcbiAgcmV0dXJuIHsgZnJhY3Rpb25hbGl6ZSwgbG9hZGluZywgZXJyb3IsIHNpZ25hdHVyZSB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlV2FsbGV0IiwiUHJvZ3JhbSIsIkFuY2hvclByb3ZpZGVyIiwiUHVibGljS2V5IiwiVHJhbnNhY3Rpb25NZXNzYWdlIiwiVmVyc2lvbmVkVHJhbnNhY3Rpb24iLCJDb21wdXRlQnVkZ2V0UHJvZ3JhbSIsIktleXBhaXIiLCJDb25uZWN0aW9uIiwiY3JlYXRlVW1pIiwid2FsbGV0QWRhcHRlcklkZW50aXR5IiwibXBsQnViYmxlZ3VtIiwiZ2V0QXNzZXRXaXRoUHJvb2YiLCJtcGxUb2tlbk1ldGFkYXRhIiwiZGFzQXBpIiwiUFJPR1JBTV9JRCIsIk1QTF9CVUJCTEVHVU1fSUQiLCJTUExfQUNDT1VOVF9DT01QUkVTU0lPTl9QUk9HUkFNX0lEX1YxIiwiU1BMX05PT1BfUFJPR1JBTV9JRF9WMSIsIk1FVEFQTEVYX1BST0dSQU1fSUQiLCJQUk9UT0NPTF9QRVJDRU5UX0ZFRSIsInVzZU5ldHdvcmsiLCJGcmFjdGlvbmFsaXphdGlvbklkbCIsImFuY2hvciIsInVzZUZyYWN0aW9uYWxpemUiLCJwdWJsaWNLZXkiLCJ3YWxsZXQiLCJzaWduVHJhbnNhY3Rpb24iLCJlbmRwb2ludCIsIm5ldHdvcmsiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzaWduYXR1cmUiLCJzZXRTaWduYXR1cmUiLCJjb25uZWN0aW9uIiwiZnJhY3Rpb25hbGl6ZSIsInBhcmFtcyIsImFkYXB0ZXIiLCJFcnJvciIsInVtaSIsInVzZSIsIm5mdEFzc2V0SWQiLCJhc3NldElkIiwiYXNzZXRXaXRoUHJvb2YiLCJ0cnVuY2F0ZUNhbm9weSIsInByb29mIiwibGVuZ3RoIiwiY05mdE5hbWUiLCJtZXRhZGF0YSIsIm5hbWUiLCJjTmZ0U3ltYm9sIiwic3ltYm9sIiwiY05mdFVyaSIsInVyaSIsIm1lcmtsZVRyZWVJZFdlYjMiLCJtZXJrbGVUcmVlIiwibmZ0QXNzZXRJZFdlYjMiLCJycGNBc3NldCIsImlkIiwidHJlZUF1dGhvcml0eSIsImZpbmRQcm9ncmFtQWRkcmVzc1N5bmMiLCJ0b0J1ZmZlciIsImxlYWZEZWxlZ2F0ZVdlYjMiLCJsZWFmRGVsZWdhdGUiLCJwcm9vZkFjY291bnRzIiwibWFwIiwibm9kZSIsInB1YmtleSIsImlzV3JpdGFibGUiLCJpc1NpZ25lciIsImNvbm5lY3Rpb25Gb3JQcm92aWRlciIsInByb3ZpZGVyIiwiY29tbWl0bWVudCIsInByb2dyYW0iLCJ2YXVsdFBkYSIsIkJ1ZmZlciIsImZyb20iLCJtaW50QXV0aG9yaXR5UGRhIiwiZnJhY3Rpb25NaW50UGRhIiwibWV0YWRhdGFQZGEiLCJ0cmVhc3VyeSIsImdlbmVyYXRlIiwidG90YWxTdXBwbHkiLCJCTiIsIm11bCIsInBvdyIsImZyYWN0aW9uYWxpemVJeCIsIm1ldGhvZHMiLCJmcmFjdGlvbmFsaXplVjEiLCJtaW5McEFnZVNlY29uZHMiLCJ1bmRlZmluZWQiLCJtaW5SZWNsYWltUGVyY2VudCIsIm1pbkxpcXVpZGl0eVBlcmNlbnQiLCJtaW5Wb2x1bWVQZXJjZW50MzBkIiwiQXJyYXkiLCJyb290IiwiZGF0YUhhc2giLCJjcmVhdG9ySGFzaCIsIm5vbmNlIiwiaW5kZXgiLCJhY2NvdW50cyIsImZyYWN0aW9uYWxpemVyIiwibmZ0QXNzZXQiLCJjb21wcmVzc2lvblByb2dyYW0iLCJsb2dXcmFwcGVyIiwibWV0YWRhdGFBY2NvdW50IiwicmVtYWluaW5nQWNjb3VudHMiLCJpbnN0cnVjdGlvbiIsImJsb2NraGFzaCIsImxhc3RWYWxpZEJsb2NrSGVpZ2h0IiwiZ2V0TGF0ZXN0QmxvY2toYXNoIiwiY29tcHV0ZUJ1ZGdldEl4Iiwic2V0Q29tcHV0ZVVuaXRMaW1pdCIsInVuaXRzIiwiY29tcHV0ZVByaWNlSXgiLCJzZXRDb21wdXRlVW5pdFByaWNlIiwibWljcm9MYW1wb3J0cyIsIm1lc3NhZ2VWMCIsInBheWVyS2V5IiwicmVjZW50QmxvY2toYXNoIiwiaW5zdHJ1Y3Rpb25zIiwiY29tcGlsZVRvVjBNZXNzYWdlIiwidmVyc2lvbmVkVHgiLCJzaWduZWRUeCIsInR4U2lnbmF0dXJlIiwic2VuZFJhd1RyYW5zYWN0aW9uIiwic2VyaWFsaXplIiwiY29uZmlybVRyYW5zYWN0aW9uIiwiZXJyIiwiY29uc29sZSIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useFractionalize.ts\n"));

/***/ })

});